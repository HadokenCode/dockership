!function t(n,e,o){function r(l,i){if(!e[l]){if(!n[l]){var s="function"==typeof require&&require;if(!i&&s)return s(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=e[l]={exports:{}};n[l][0].call(u.exports,function(t){var e=n[l][1][t];return r(e?e:t)},u,u.exports,t,n,e,o)}return e[l].exports}for(var a="function"==typeof require&&require,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(t,n,e){angular.module("dockership",["ui.bootstrap","angular-loading-bar","ansiToHtml","ngAnimate","bd.sockjs","headroom","dialogs.main","notification"]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">  <div class="arrow"></div>  <div class="popover-inner">      <h3 class="popover-title" ng-bind-html="title | unsafe" ng-show="title"></h3>      <div class="popover-content" ng-bind-html="content | unsafe"></div>  </div></div>')}]),t("./config")},{"./config":2}],2:[function(t,n,e){var o,r,a={controller:{ContainersCtrl:t("./controller/ContainersCtrl"),DeployTabCtrl:t("./controller/DeployTabCtrl"),HeaderCtrl:t("./controller/HeaderCtrl"),LogTabCtrl:t("./controller/LogTabCtrl"),ProjectsCtrl:t("./controller/ProjectsCtrl")},filter:{unsafe:t("./filter/Unsafe")},factory:{socket:t("./factory/Socket")}};for(o in a)for(r in a[o])angular.module("dockership")[o](r,a[o][r])},{"./controller/ContainersCtrl":3,"./controller/DeployTabCtrl":4,"./controller/HeaderCtrl":5,"./controller/LogTabCtrl":6,"./controller/ProjectsCtrl":7,"./factory/Socket":8,"./filter/Unsafe":9}],3:[function(t,n,e){n.exports=["$scope","$modalInstance","$http","project","containers",function(t,n,e,o,r){t.project=o,t.containers=r,t.cancel=function(){n.dismiss("cancel")}}]},{}],4:[function(t,n,e){n.exports=["$scope","$http","$rootScope","socket","ansi2html",function(t,n,e,o,r){t.log={},t.current="latest",e.pendingDeployments=0,o.addHandler("deploy",function(n){var o=n.project+" "+n.environment+" "+n.date.slice(0,16);t.current=o,void 0==t.log[o]&&(e.pendingDeployments++,t.log[o]=""),t.log[o]+=t.ansii?r.toHtml(n.log):n.log})}]},{}],5:[function(t,n,e){n.exports=["$scope","$http",function(t,n){t.loadUser=function(){n.get("/rest/user").then(function(n){t.user=n.data},function(n){t.log(n.data)})},t.loadUser()}]},{}],6:[function(t,n,e){n.exports=["$scope","$rootScope","socket","Notification",function(t,n,e,o){t.level=3,n.pendingLogs=0,t.chageLevel=function(n){t.level=n},t.filter=function(n){return n.lvl<=t.level},t.log=[],e.addHandler("log",function(e){if(t.log.unshift(e),e.lvl<4&&n.pendingLogs++,e.lvl<1){new o("[Critical Error]",{body:e.msg,icon:"/logo.png",delay:4e3})}}),t.params=function(t,n){var e=[];return angular.forEach(t,function(t,n){"t"!=n&&"msg"!=n&&"lvl"!=n&&"revision"!=n&&this.push("<b>"+n+"</b>: "+t),"revision"==n&&this.push("<b>"+n+"</b>: "+t.slice(0,12))},e),n?e[0].replace(/<[^>]+>/gm,""):e.join("<br /> ")}}]},{}],7:[function(t,n,e){n.exports=["$scope","$http","socket","dialogs","$modal",function(t,n,e,o,r){"use strict";t.processing=!1,e.addHandler("containers",function(n){t.processing=!1;r.open({templateUrl:"ContainersContent.html",controller:"ContainersCtrl",size:"lg",resolve:{project:function(){return""},containers:function(){return n}}})});var a=function(t){if(void 0==t)return["loading"];var n=t.Environment.DockerEndPoints.length,e=t.RunningContainers,o=t.LastRevisionLabel,r=0;if(0==e.length)return["down"];if(e.length!=n)return["down","partial"];for(var a=e.length-1;a>=0;a--){var l=e[a].Image.split(":");l.length<2?console.log(l):o.slice(0,l[1].length)!=l[1]&&r++}return r==n?["outdated"]:0!=r?["outdated","partial"]:["ok"]};e.addHandler("status",function(n){t.processing=!1,t.loaded=!0,angular.forEach(n,function(t,n){angular.forEach(t.Status,function(t,n){t.Status=a(t)})}),t.status=n}),e.addHandler("projects",function(n){t.projects=n,angular.forEach(n,function(n,e){t.taskStatus[n.Name]=n.TaskStatus}),t.loadStatus()}),t.openContainers=function(n){t.processing=!0,e.getContainers(n)},t.taskStatus=[],t.openDeploy=function(n,r){var a="Are you sure want to deploy <b>"+n.Name+"</b> at <b>"+r.Name+"</b>?",l=o.confirm("Confirm",a,{size:"md"});l.result.then(function(o){void 0==t.taskStatus[n.Name][r.Name]&&(t.taskStatus[n.Name][r.Name]={}),t.taskStatus[n.Name][r.Name].deploy=!0,e.doDeploy(n,r)})},t.loaded=!1,t.loadStatus=function(){e.getStatus()}}]},{}],8:[function(t,n,e){n.exports=["socketFactory",function(t){var n=t({url:"/socket"});return n._handlers={},n.addHandler=function(t,e){n._handlers[t]=e},n.doDeploy=function(t,e){n.send(angular.toJson({event:"deploy",request:{project:t.Name,environment:e.Name}}))},n.getContainers=function(t){n.send(angular.toJson({event:"containers",request:{project:t.Name}}))},n.getStatus=function(t){n.send(angular.toJson({event:"status",request:{}}))},n.setHandler("message",function(t){data=angular.fromJson(t.data),n._handlers[data.event](data.result)}),n}]},{}],9:[function(t,n,e){n.exports=["$sce",function(t){return function(n){return t.trustAsHtml(n)}}]},{}]},{},[1]);
//# sourceMappingURL=app.js.map
